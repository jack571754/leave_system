# 🎉 功能更新说明

## ✨ 最新更新

### 1. 首页自动跳转
- 访问 `http://localhost:8000/` 自动跳转到管理面板
- 无需手动输入 `/dashboard/`

### 2. 新增 BPMN 配置页面 🎨

完整的 BPMN 流程配置管理功能：

#### 📋 流程列表
- 查看所有已配置的 BPMN 流程
- 显示流程名称和 ID
- 点击查看详细信息

#### 📊 流程详情
- 流程基本信息（ID、名称、描述）
- 流程文件列表（BPMN、JSON Schema 等）
- 查看/编辑 BPMN 文件
- 流程操作按钮

#### 🛠️ 流程操作
- ✅ **验证流程** - 检查 BPMN 文件是否正确
- 🚀 **部署流程** - 部署流程到系统
- 🗑️ **删除流程** - 删除不需要的流程
- 📝 **查看/编辑** - 查看和编辑 BPMN 文件内容

#### ➕ 创建新流程
- 填写流程组 ID
- 填写流程 ID
- 填写流程名称和描述
- 一键创建新流程

### 3. 完整的标签页导航

现在包含 8 个功能标签页：

1. **📝 创建申请** - 创建请假或密码修改申请
2. **📋 我的申请** - 查看个人申请记录
3. **⏳ 待审批** - 查看和处理待审批任务
4. **📊 所有申请** - 查看系统所有申请（管理员）
5. **🎨 BPMN 配置** - 管理 BPMN 流程（新增）
6. **🔌 API 接口** - API 文档和示例
7. **⚙️ 流程说明** - 审批流程配置说明
8. **📚 文档** - 系统文档和使用指南

## 🚀 如何使用

### 访问管理面板

直接访问：**http://localhost:8000/**

系统会自动跳转到管理面板。

### 使用 BPMN 配置

1. 点击 **🎨 BPMN 配置** 标签
2. 左侧显示所有流程列表
3. 点击流程查看详情
4. 使用操作按钮管理流程

### 查看流程文件

1. 在流程详情中找到文件列表
2. 点击 BPMN 文件的 **查看/编辑** 按钮
3. 在编辑器中查看文件内容
4. 可以复制内容到本地编辑

### 创建新流程

1. 滚动到页面底部
2. 填写创建表单：
   - 流程组 ID（如：hr）
   - 流程 ID（如：leave-approval）
   - 流程名称（如：请假审批流程）
   - 流程描述
3. 点击 **✨ 创建流程**

## 📊 当前可用流程

### 1. admin/admin - 请假审批流程
- 支持短期和长期请假
- 部门主管审批
- 超时提醒功能

### 2. password/password-change - 密码修改审批流程
- 支持多级审批
- 根据密码类型和用户级别路由
- 三级审批：部门主管 → IT安全主管 → 系统管理员

## 💡 使用提示

### BPMN 文件编辑
- 建议使用专业的 BPMN 编辑器（如 Camunda Modeler）
- 直接编辑 `process_models/` 目录下的文件
- 编辑后重启服务使更改生效

### 流程验证
- 创建或修改流程后，使用 **验证流程** 功能
- 确保 BPMN 文件格式正确
- 检查流程定义是否完整

### 流程部署
- 验证通过后，使用 **部署流程** 功能
- 部署后流程即可在系统中使用
- 可以在创建申请时选择该流程

## 🔧 技术说明

### API 端点

BPMN 配置相关的 API：

- `GET /api/bpmn/processes/` - 获取流程列表
- `GET /api/bpmn/processes/{id}/` - 获取流程详情
- `POST /api/bpmn/processes/` - 创建新流程
- `DELETE /api/bpmn/processes/{id}/` - 删除流程
- `GET /api/bpmn/processes/{id}/validate/` - 验证流程
- `POST /api/bpmn/processes/{id}/deploy/` - 部署流程

### 文件结构

```
process_models/
├── admin/
│   ├── process_group.json
│   └── admin/
│       ├── process_model.json
│       ├── admin.bpmn
│       ├── leave-form-schema.json
│       └── approval-form-schema.json
└── password/
    ├── process_group.json
    └── password-change/
        ├── process_model.json
        ├── password-change.bpmn
        ├── password-form-schema.json
        └── approval-form-schema.json
```

## 🎯 下一步计划

- [ ] 在线 BPMN 编辑器集成
- [ ] 流程版本管理
- [ ] 流程导入/导出
- [ ] 流程模板库
- [ ] 可视化流程设计器

## 📞 需要帮助？

- 查看 **📚 文档** 标签页
- 查看 **🔌 API 接口** 标签页
- 查看项目根目录下的文档文件

---

**更新时间**: 2026-01-18  
**版本**: v2.0
