<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å®¡æ‰¹æµç¨‹ç®¡ç†ç³»ç»Ÿ</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'PingFang SC', sans-serif; background: #f8fafc; color: #1e293b; line-height: 1.6; }
        .app { min-height: 100vh; display: flex; flex-direction: column; }
        .header { background: white; border-bottom: 1px solid #e2e8f0; padding: 1rem 2rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .header-content { max-width: 1400px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; }
        .header h1 { font-size: 1.5rem; font-weight: 600; color: #1e293b; }
        .nav { display: flex; gap: 2rem; }
        .nav-link { color: #64748b; text-decoration: none; font-weight: 500; padding: 0.5rem 0; border-bottom: 2px solid transparent; transition: all 0.2s; cursor: pointer; }
        .nav-link:hover, .nav-link.active { color: #3b82f6; border-bottom-color: #3b82f6; }
        .main { flex: 1; max-width: 1400px; margin: 0 auto; padding: 2rem; width: 100%; }
        .page { display: none; }
        .page.active { display: block; }
        .page-title { font-size: 2rem; font-weight: 700; color: #1e293b; margin-bottom: 2rem; }
        .grid { display: grid; gap: 2rem; }
        .grid-2 { grid-template-columns: 300px 1fr; }
        .grid-3 { grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); }
        .card { background: white; border-radius: 12px; padding: 1.5rem; box-shadow: 0 1px 3px rgba(0,0,0,0.1); border: 1px solid #e2e8f0; }
        .card-title { font-size: 1.25rem; font-weight: 600; color: #1e293b; margin-bottom: 1rem; }
        .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; margin-bottom: 2rem; }
        .stat-card { background: white; padding: 1.5rem; border-radius: 12px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); border: 1px solid #e2e8f0; text-align: center; }
        .stat-value { font-size: 2rem; font-weight: 700; color: #3b82f6; margin-bottom: 0.5rem; }
        .stat-label { color: #64748b; font-size: 0.875rem; text-transform: uppercase; letter-spacing: 0.05em; }
        .form-group { margin-bottom: 1rem; }
        .form-label { display: block; margin-bottom: 0.5rem; color: #374151; font-weight: 500; }
        .form-input, .form-select, .form-textarea { width: 100%; padding: 0.75rem; border: 1px solid #d1d5db; border-radius: 8px; font-size: 0.875rem; transition: border-color 0.2s; }
        .form-input:focus, .form-select:focus, .form-textarea:focus { outline: none; border-color: #3b82f6; box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1); }
        .form-row { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1rem; }
        .btn { display: inline-flex; align-items: center; gap: 0.5rem; padding: 0.75rem 1.5rem; border: none; border-radius: 8px; font-size: 0.875rem; font-weight: 500; cursor: pointer; transition: all 0.2s; }
        .btn-primary { background: #3b82f6; color: white; }
        .btn-primary:hover { background: #2563eb; transform: translateY(-1px); }
        .btn-success { background: #10b981; color: white; }
        .btn-outline { background: white; color: #374151; border: 1px solid #d1d5db; }
        .btn-sm { padding: 0.5rem 1rem; font-size: 0.8rem; }
        .table { width: 100%; border-collapse: collapse; }
        .table th, .table td { padding: 0.75rem; text-align: left; border-bottom: 1px solid #e2e8f0; }
        .table th { background: #f8fafc; color: #374151; font-weight: 600; font-size: 0.875rem; }
        .table tr:hover { background: #f8fafc; }
        .badge { display: inline-flex; padding: 0.25rem 0.75rem; border-radius: 9999px; font-size: 0.75rem; font-weight: 500; }
        .badge-pending { background: #fef3c7; color: #92400e; }
        .badge-approved { background: #d1fae5; color: #065f46; }
        .badge-rejected { background: #fee2e2; color: #991b1b; }
        .loading { text-align: center; padding: 2rem; color: #64748b; }
        .alert { padding: 1rem; border-radius: 8px; margin-bottom: 1rem; }
        .alert-success { background: #d1fae5; color: #065f46; border-left: 4px solid #10b981; }
        .alert-error { background: #fee2e2; color: #991b1b; border-left: 4px solid #ef4444; }
        .designer-layout { display: grid; grid-template-columns: 300px 1fr; gap: 2rem; height: calc(100vh - 200px); }
        .designer-sidebar { background: white; border: 1px solid #e2e8f0; border-radius: 12px; padding: 1.5rem; overflow-y: auto; }
        .designer-main { background: white; border: 1px solid #e2e8f0; border-radius: 12px; padding: 1.5rem; display: flex; flex-direction: column; }
        .designer-toolbar { display: flex; gap: 1rem; margin-bottom: 1rem; padding-bottom: 1rem; border-bottom: 1px solid #e2e8f0; }
        .designer-canvas { flex: 1; border: 1px solid #e2e8f0; border-radius: 8px; background: #f8fafc; display: flex; align-items: center; justify-content: center; color: #64748b; }
        .history-item { padding: 1rem; border: 1px solid #e2e8f0; border-radius: 8px; margin-bottom: 1rem; cursor: pointer; transition: all 0.2s; }
        .history-item:hover { background: #f8fafc; border-color: #3b82f6; }
        .history-item.active { background: #eff6ff; border-color: #3b82f6; }
        .history-title { font-weight: 600; color: #1e293b; margin-bottom: 0.5rem; }
        .history-meta { color: #64748b; font-size: 0.875rem; }
        .api-method { display: inline-block; padding: 0.25rem 0.5rem; border-radius: 4px; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; }
        .method-get { background: #dbeafe; color: #1e40af; }
        .method-post { background: #d1fae5; color: #065f46; }
        .code-block { background: #1e293b; color: #e2e8f0; padding: 1rem; border-radius: 8px; overflow-x: auto; font-family: monospace; font-size: 0.875rem; }
        .response-viewer { background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 1rem; font-family: monospace; font-size: 0.875rem; white-space: pre-wrap; max-height: 400px; overflow-y: auto; }
        @media (max-width: 768px) { .header-content { flex-direction: column; gap: 1rem; } .nav { flex-wrap: wrap; gap: 1rem; } .main { padding: 1rem; } .grid-2, .designer-layout { grid-template-columns: 1fr; } }
    </style>
</head>
<body>
    <div class="app">
        <header class="header">
            <div class="header-content">
                <h1>å®¡æ‰¹æµç¨‹ç®¡ç†ç³»ç»Ÿ</h1>
                <nav class="nav">
                    <a class="nav-link active" onclick="showPage('home')">é¦–é¡µ</a>
                    <a class="nav-link" onclick="showPage('designer')">æµç¨‹è®¾è®¡å™¨</a>
                    <a class="nav-link" onclick="showPage('api')">API è°ƒè¯•</a>
                    <a class="nav-link" onclick="showPage('docs')">æ–‡æ¡£</a>
                </nav>
            </div>
        </header>

        <main class="main">
            <!-- é¦–é¡µ -->
            <div id="page-home" class="page active">
                <h2 class="page-title">å·¥ä½œå°</h2>
                <div class="stats-grid">
                    <div class="stat-card"><div class="stat-value" id="stat-pending">-</div><div class="stat-label">å¾…å®¡æ‰¹</div></div>
                    <div class="stat-card"><div class="stat-value" id="stat-approved">-</div><div class="stat-label">å·²æ‰¹å‡†</div></div>
                    <div class="stat-card"><div class="stat-value" id="stat-rejected">-</div><div class="stat-label">å·²æ‹’ç»</div></div>
                    <div class="stat-card"><div class="stat-value" id="stat-total">-</div><div class="stat-label">æ€»ç”³è¯·</div></div>
                </div>
                <div class="grid grid-3">
                    <div class="card">
                        <h3 class="card-title">åˆ›å»ºç”³è¯·</h3>
                        <div class="form-group"><label class="form-label">ç”³è¯·ç±»å‹</label><select id="request-type" class="form-select" onchange="updateFormFields()"><option value="leave">è¯·å‡ç”³è¯·</option><option value="password_change">å¯†ç ä¿®æ”¹</option></select></div>
                        <div class="form-row"><div class="form-group"><label class="form-label">ç”³è¯·äººé‚®ç®±</label><input type="email" id="user-email" class="form-input" placeholder="user@company.com"></div><div class="form-group"><label class="form-label">å§“å</label><input type="text" id="staff-name" class="form-input" placeholder="å¼ ä¸‰"></div></div>
                        <div class="form-group"><label class="form-label">éƒ¨é—¨</label><input type="text" id="staff-dept" class="form-input" placeholder="æŠ€æœ¯éƒ¨"></div>
                        <div id="leave-fields"><div class="form-row"><div class="form-group"><label class="form-label">è¯·å‡ç±»å‹</label><select id="leave-type" class="form-select"><option value="annual">å¹´å‡</option><option value="sick">ç—…å‡</option><option value="personal">äº‹å‡</option></select></div><div class="form-group"><label class="form-label">æ—¶é•¿(å°æ—¶)</label><input type="number" id="leave-hours" class="form-input" value="8"></div></div></div>
                        <div id="password-fields" style="display: none;"><div class="form-row"><div class="form-group"><label class="form-label">å¯†ç ç±»å‹</label><select id="password-type" class="form-select"><option value="normal">æ™®é€šå¯†ç </option><option value="important">é‡è¦å¯†ç </option><option value="critical">å…³é”®å¯†ç </option></select></div><div class="form-group"><label class="form-label">ç”¨æˆ·çº§åˆ«</label><select id="user-level" class="form-select"><option value="normal">æ™®é€šç”¨æˆ·</option><option value="admin">ç®¡ç†å‘˜</option></select></div></div><div class="form-group"><label class="form-label">ç³»ç»Ÿåç§°</label><input type="text" id="system-name" class="form-input" placeholder="ä¼ä¸šé‚®ç®±ç³»ç»Ÿ"></div></div>
                        <div class="form-group"><label class="form-label">ç”³è¯·åŸå› </label><textarea id="reason" class="form-textarea" rows="3" placeholder="è¯·è¯¦ç»†è¯´æ˜..."></textarea></div>
                        <div id="create-alert"></div>
                        <button class="btn btn-primary" onclick="createRequest()">æäº¤ç”³è¯·</button>
                    </div>
                    <div class="card">
                        <h3 class="card-title">æˆ‘çš„ç”³è¯·</h3>
                        <div class="form-group"><input type="email" id="my-email" class="form-input" placeholder="è¾“å…¥é‚®ç®±æŸ¥è¯¢"></div>
                        <button class="btn btn-primary" onclick="loadMyRequests()">æŸ¥è¯¢</button>
                        <div id="my-requests-content" style="margin-top: 1rem;"><div class="loading">è¯·è¾“å…¥é‚®ç®±å¹¶ç‚¹å‡»æŸ¥è¯¢</div></div>
                    </div>
                    <div class="card">
                        <h3 class="card-title">å¾…å®¡æ‰¹ä»»åŠ¡</h3>
                        <div class="form-group"><input type="email" id="approver-email" class="form-input" placeholder="å®¡æ‰¹äººé‚®ç®±"></div>
                        <button class="btn btn-primary" onclick="loadPendingApprovals()">æŸ¥è¯¢</button>
                        <div id="pending-content" style="margin-top: 1rem;"><div class="loading">è¯·è¾“å…¥å®¡æ‰¹äººé‚®ç®±å¹¶ç‚¹å‡»æŸ¥è¯¢</div></div>
                    </div>
                </div>
            </div>

            <!-- æµç¨‹è®¾è®¡å™¨é¡µé¢ -->
            <div id="page-designer" class="page">
                <h2 class="page-title">æµç¨‹è®¾è®¡å™¨</h2>
                <div class="designer-layout">
                    <div class="designer-sidebar">
                        <h3 class="card-title" style="margin-bottom: 1rem;">å†å²å®¡æ‰¹æµç¨‹</h3>
                        <div id="history-list"><div class="loading">åŠ è½½ä¸­...</div></div>
                    </div>
                    <div class="designer-main">
                        <div class="designer-toolbar">
                            <button class="btn btn-primary" onclick="window.open('/bpmn-designer/', '_blank')">æ‰“å¼€ BPMN è®¾è®¡å™¨</button>
                            <button class="btn btn-outline" onclick="loadBpmnProcesses()">åˆ·æ–°æµç¨‹åˆ—è¡¨</button>
                            <button class="btn btn-success" onclick="saveCurrentProcess()">ä¿å­˜</button>
                        </div>
                        <div class="designer-canvas"><div style="text-align: center;"><p style="font-size: 1.5rem; margin-bottom: 1rem;">ğŸ¨</p><p>ä»å·¦ä¾§é€‰æ‹©ä¸€ä¸ªæµç¨‹å¼€å§‹ç¼–è¾‘</p><button class="btn btn-primary" style="margin-top: 1rem;" onclick="window.open('/bpmn-designer/', '_blank')">æ‰“å¼€ä¸“ä¸šè®¾è®¡å™¨</button></div></div>
                    </div>
                </div>
            </div>

            <!-- API è°ƒè¯•é¡µé¢ -->
            <div id="page-api" class="page">
                <h2 class="page-title">API è°ƒè¯•å·¥å…·</h2>
                <div class="grid grid-2">
                    <div class="card">
                        <h3 class="card-title">è¯·æ±‚é…ç½®</h3>
                        <div class="form-group"><label class="form-label">è¯·æ±‚æ–¹æ³•</label><select id="api-method" class="form-select"><option value="GET">GET</option><option value="POST">POST</option><option value="PUT">PUT</option><option value="DELETE">DELETE</option></select></div>
                        <div class="form-group"><label class="form-label">API ç«¯ç‚¹</label><select id="api-endpoint" class="form-select" onchange="updateApiExample()"><option value="/api/leave/create/">POST /api/leave/create/ - åˆ›å»ºç”³è¯·</option><option value="/api/leave/my-requests/">GET /api/leave/my-requests/ - æˆ‘çš„ç”³è¯·</option><option value="/api/leave/pending-approvals/">GET /api/leave/pending-approvals/ - å¾…å®¡æ‰¹</option><option value="/api/leave/approve/">POST /api/leave/approve/ - æ‰¹å‡†ç”³è¯·</option><option value="/api/leave/reject/">POST /api/leave/reject/ - æ‹’ç»ç”³è¯·</option></select></div>
                        <div class="form-group"><label class="form-label">è¯·æ±‚å‚æ•° (JSON)</label><textarea id="api-params" class="form-textarea" rows="10" style="font-family: monospace;">{"user_email": "user@company.com","staff_full_name": "å¼ ä¸‰","staff_dept": "æŠ€æœ¯éƒ¨","reason": "æµ‹è¯•ç”³è¯·","leave_hours": 8,"leave_type": "annual"}</textarea></div>
                        <button class="btn btn-primary" onclick="sendApiRequest()">å‘é€è¯·æ±‚</button>
                        <button class="btn btn-outline" onclick="clearApiResponse()">æ¸…ç©ºå“åº”</button>
                    </div>
                    <div class="card">
                        <h3 class="card-title">å“åº”ç»“æœ</h3>
                        <p style="color: #64748b; font-size: 0.875rem; margin-bottom: 1rem;" id="api-status">ç­‰å¾…è¯·æ±‚...</p>
                        <div class="response-viewer" id="api-response">ç­‰å¾…å‘é€è¯·æ±‚...</div>
                        <div style="margin-top: 2rem;"><h4 style="margin-bottom: 1rem;">API æ–‡æ¡£</h4><div style="max-height: 300px; overflow-y: auto;"><div style="margin-bottom: 1rem; padding: 1rem; background: #f8fafc; border-radius: 8px;"><div style="margin-bottom: 0.5rem;"><span class="api-method method-post">POST</span><code style="margin-left: 0.5rem;">/api/leave/create/</code></div><p style="font-size: 0.875rem; color: #64748b;">åˆ›å»ºè¯·å‡æˆ–å¯†ç ä¿®æ”¹ç”³è¯·</p></div></div></div>
                    </div>
                </div>
            </div>

            <!-- æ–‡æ¡£é¡µé¢ -->
            <div id="page-docs" class="page">
                <h2 class="page-title">ç³»ç»Ÿæ–‡æ¡£</h2>
                <div class="grid grid-3">
                    <div class="card"><h3 class="card-title">å¿«é€Ÿå¼€å§‹</h3><p style="color: #64748b; margin-bottom: 1rem;">äº†è§£å¦‚ä½•å¿«é€Ÿä½¿ç”¨ç³»ç»Ÿ</p><ul style="margin-left: 1.5rem; line-height: 1.8;"><li>åˆ›å»ºç¬¬ä¸€ä¸ªç”³è¯·</li><li>å®¡æ‰¹æµç¨‹è¯´æ˜</li><li>å¸¸è§é—®é¢˜è§£ç­”</li></ul></div>
                    <div class="card"><h3 class="card-title">é…ç½®æ•™ç¨‹</h3><p style="color: #64748b; margin-bottom: 1rem;">å­¦ä¹ å¦‚ä½•é…ç½®å®¡æ‰¹æµç¨‹</p><ul style="margin-left: 1.5rem; line-height: 1.8;"><li>BPMN æµç¨‹è®¾è®¡</li><li>å¤šçº§å®¡æ‰¹é…ç½®</li><li>åˆ†æ”¯è·¯ç”±è®¾ç½®</li></ul></div>
                    <div class="card"><h3 class="card-title">æµ‹è¯•è´¦å·</h3><p style="color: #64748b; margin-bottom: 1rem;">ç”¨äºæµ‹è¯•çš„è´¦å·ä¿¡æ¯</p><div class="code-block">ç”³è¯·äºº: user1@company.com<br>å®¡æ‰¹äºº: manager@company.com<br>ITä¸»ç®¡: it_security@company.com</div></div>
                </div>
            </div>
        </main>
    </div>

    <script>
        const API_BASE = '/api';
        function showPage(page) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
            document.getElementById('page-' + page).classList.add('active');
            event.target.classList.add('active');
            if (page === 'designer') loadBpmnProcesses();
        }
        function updateFormFields() {
            const type = document.getElementById('request-type').value;
            document.getElementById('leave-fields').style.display = type === 'leave' ? 'block' : 'none';
            document.getElementById('password-fields').style.display = type === 'password_change' ? 'block' : 'none';
        }
        async function createRequest() {
            const type = document.getElementById('request-type').value;
            const data = {user_email: document.getElementById('user-email').value, staff_full_name: document.getElementById('staff-name').value, staff_dept: document.getElementById('staff-dept').value, reason: document.getElementById('reason').value};
            if (type === 'leave') {data.leave_hours = parseInt(document.getElementById('leave-hours').value) || 8; data.leave_type = document.getElementById('leave-type').value;} else {data.leave_hours = 0; data.password_type = document.getElementById('password-type').value; data.user_level = document.getElementById('user-level').value; data.system_name = document.getElementById('system-name').value;}
            try {const res = await fetch(`${API_BASE}/leave/create/`, {method: 'POST', headers: {'Content-Type': 'application/json'}, body: JSON.stringify(data)}); const result = await res.json(); document.getElementById('create-alert').innerHTML = result.success ? `<div class="alert alert-success">âœ… ç”³è¯·åˆ›å»ºæˆåŠŸï¼<br>ç”³è¯·ID: ${result.leave_request_id}</div>` : `<div class="alert alert-error">âŒ ${result.error}</div>`;} catch (e) {document.getElementById('create-alert').innerHTML = `<div class="alert alert-error">âŒ è¯·æ±‚å¤±è´¥: ${e.message}</div>`;}
        }
        async function loadMyRequests() {
            const email = document.getElementById('my-email').value;
            if (!email) return;
            const div = document.getElementById('my-requests-content');
            div.innerHTML = '<div class="loading">åŠ è½½ä¸­...</div>';
            try {const res = await fetch(`${API_BASE}/leave/my-requests/?user_email=${email}`); const result = await res.json(); if (result.success && result.requests.length > 0) {div.innerHTML = `<table class="table"><thead><tr><th>ID</th><th>ç±»å‹</th><th>çŠ¶æ€</th><th>æ—¶é—´</th></tr></thead><tbody>${result.requests.map(r => `<tr><td>${r.id}</td><td>${r.leave_type || r.password_type || '-'}</td><td><span class="badge badge-${r.status}">${r.status_display}</span></td><td>${new Date(r.created_at).toLocaleString('zh-CN')}</td></tr>`).join('')}</tbody></table>`;} else {div.innerHTML = '<div class="loading">æš‚æ— ç”³è¯·è®°å½•</div>';}} catch (e) {div.innerHTML = `<div class="alert alert-error">åŠ è½½å¤±è´¥: ${e.message}</div>`;}
        }
        async function loadPendingApprovals() {
            const email = document.getElementById('approver-email').value;
            if (!email) return;
            const div = document.getElementById('pending-content');
            div.innerHTML = '<div class="loading">åŠ è½½ä¸­...</div>';
            try {const res = await fetch(`${API_BASE}/leave/pending-approvals/?user_email=${email}`); const result = await res.json(); if (result.success && result.tasks.length > 0) {div.innerHTML = `<table class="table"><thead><tr><th>ä»»åŠ¡</th><th>ç”³è¯·äºº</th><th>éƒ¨é—¨</th></tr></thead><tbody>${result.tasks.map(t => `<tr><td>${t.name}</td><td>${t.leave_request.staff_full_name}</td><td>${t.leave_request.staff_dept}</td></tr>`).join('')}</tbody></table>`;} else {div.innerHTML = '<div class="loading">æš‚æ— å¾…å®¡æ‰¹ä»»åŠ¡</div>';}} catch (e) {div.innerHTML = `<div class="alert alert-error">åŠ è½½å¤±è´¥: ${e.message}</div>`;}
        }
        async function loadBpmnProcesses() {
            const div = document.getElementById('history-list');
            div.innerHTML = '<div class="loading">åŠ è½½ä¸­...</div>';
            try {const res = await fetch(`${API_BASE}/bpmn/processes/`); const result = await res.json(); if (result.success && result.processes.length > 0) {div.innerHTML = result.processes.map(p => `<div class="history-item" onclick="selectProcess('${p.id}')"><div class="history-title">${p.display_name || p.id}</div><div class="history-meta">${p.id}</div></div>`).join('');} else {div.innerHTML = '<div class="loading">æš‚æ— æµç¨‹</div>';}} catch (e) {div.innerHTML = `<div class="alert alert-error">åŠ è½½å¤±è´¥: ${e.message}</div>`;}
        }
        function selectProcess(id) {document.querySelectorAll('.history-item').forEach(i => i.classList.remove('active')); event.target.closest('.history-item').classList.add('active');}
        function saveCurrentProcess() {alert('ä¿å­˜åŠŸèƒ½ï¼šè¯·ä½¿ç”¨ BPMN è®¾è®¡å™¨ä¿å­˜æµç¨‹');}
        async function sendApiRequest() {
            const method = document.getElementById('api-method').value;
            const endpoint = document.getElementById('api-endpoint').value.split(' ')[1];
            const params = document.getElementById('api-params').value;
            document.getElementById('api-status').textContent = 'å‘é€ä¸­...';
            try {const opts = {method, headers: {'Content-Type': 'application/json'}}; if (method !== 'GET') opts.body = params; const res = await fetch(`${API_BASE}${endpoint}`, opts); const result = await res.json(); document.getElementById('api-status').textContent = `çŠ¶æ€: ${res.status} ${res.statusText}`; document.getElementById('api-response').textContent = JSON.stringify(result, null, 2);} catch (e) {document.getElementById('api-status').textContent = 'è¯·æ±‚å¤±è´¥'; document.getElementById('api-response').textContent = e.message;}
        }
        function clearApiResponse() {document.getElementById('api-response').textContent = 'ç­‰å¾…å‘é€è¯·æ±‚...'; document.getElementById('api-status').textContent = 'ç­‰å¾…è¯·æ±‚...';}
        function updateApiExample() {const examples = {'/api/leave/create/': '{"user_email": "user@company.com","staff_full_name": "å¼ ä¸‰","staff_dept": "æŠ€æœ¯éƒ¨","reason": "æµ‹è¯•ç”³è¯·","leave_hours": 8,"leave_type": "annual"}', '/api/leave/approve/': '{"leave_request_id": 1,"task_id": "task-123","approver_email": "manager@company.com","approver_name": "æç»ç†","comment": "åŒæ„"}'}; const endpoint = document.getElementById('api-endpoint').value.split(' ')[1]; if (examples[endpoint]) document.getElementById('api-params').value = examples[endpoint];}
        window.onload = () => {document.getElementById('stat-pending').textContent = '-'; document.getElementById('stat-approved').textContent = '-'; document.getElementById('stat-rejected').textContent = '-'; document.getElementById('stat-total').textContent = '-';};
    </script>
</body>
</html>
